{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Visual%20studio%20code/CocaCola/ColaFE/src/app/test/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useRef, useState, useEffect, Suspense } from 'react';\r\nimport * as THREE from 'three';\r\nimport { Canvas } from '@react-three/fiber';\r\nimport { View, OrbitControls, useGLTF, Center, Environment } from '@react-three/drei';\r\n\r\nfunction Model({ url }: { url: string }) {\r\n  // useGLTF handles the GLTFLoader and caching automatically\r\n  const { scene } = useGLTF(url);\r\n  \r\n  useEffect(() => {\r\n    if (scene) {\r\n      // Manual scale logic to ensure the model isn't too tiny or too huge\r\n      const box = new THREE.Box3().setFromObject(scene);\r\n      const size = box.getSize(new THREE.Vector3());\r\n      const maxDim = Math.max(size.x, size.y, size.z);\r\n      const scale = 2 / maxDim; \r\n      scene.scale.set(scale, scale, scale);\r\n    }\r\n  }, [scene]);\r\n\r\n  return <primitive object={scene} />;\r\n}\r\n\r\nconst Scene = ({ modelUrl, panelRef }: { modelUrl: string, panelRef: React.RefObject<HTMLDivElement | null> }) => {\r\n  return (\r\n    <>\r\n      <ambientLight intensity={1} />\r\n      <pointLight position={[10, 10, 10]} intensity={1.5} />\r\n      <Environment preset=\"city\" />\r\n      \r\n      <Suspense fallback={null}>\r\n        <Center>\r\n          <Model url={modelUrl} />\r\n        </Center>\r\n      </Suspense>\r\n\r\n      {/* Logic to ensure OrbitControls only attaches to the specific panel */}\r\n      {panelRef.current && (\r\n        <OrbitControls \r\n          makeDefault \r\n          enableZoom={false} \r\n          enablePan={false} \r\n          domElement={panelRef.current} \r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default function MultiScenePage() {\r\n  const [mounted, setMounted] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null!);\r\n  const view1Ref = useRef<HTMLDivElement>(null);\r\n  const view2Ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"relative w-screen h-screen bg-white grid grid-cols-2 gap-4 p-8 overflow-hidden\">\r\n      \r\n      {/* HTML DOM Panels */}\r\n      <div ref={view1Ref} className=\"relative z-10 w-full h-full border-2 border-dashed border-blue-400 rounded-2xl bg-gray-50\" />\r\n      <div ref={view2Ref} className=\"relative z-10 w-full h-full border-2 border-dashed border-red-400 rounded-2xl bg-gray-50\" />\r\n\r\n      {/* The Global Canvas */}\r\n      <Canvas \r\n        className=\"pointer-events-none fixed inset-0 z-20\"\r\n        camera={{ position: [0, 0, 5], fov: 45 }}\r\n      >\r\n        {/* We only render the View components if the Ref has captured the DOM element */}\r\n        {view1Ref.current && (\r\n          <View track={view1Ref as React.RefObject<HTMLElement>}>\r\n            <Scene panelRef={view1Ref} modelUrl=\"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF/Duck.gltf\" />\r\n          </View>\r\n        )}\r\n\r\n        {view2Ref.current && (\r\n          <View track={view2Ref as React.RefObject<HTMLElement>}>\r\n            <Scene panelRef={view2Ref} modelUrl=\"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Box/glTF/Box.gltf\" />\r\n          </View>\r\n        )}\r\n      </Canvas>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;;AALA;;;;;AAOA,SAAS,MAAM,EAAE,GAAG,EAAmB;;IACrC,2DAA2D;IAC3D,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,sKAAO,EAAC;IAE1B,IAAA,0KAAS;2BAAC;YACR,IAAI,OAAO;gBACT,oEAAoE;gBACpE,MAAM,MAAM,IAAI,0JAAU,GAAG,aAAa,CAAC;gBAC3C,MAAM,OAAO,IAAI,OAAO,CAAC,IAAI,6JAAa;gBAC1C,MAAM,SAAS,KAAK,GAAG,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC;gBAC9C,MAAM,QAAQ,IAAI;gBAClB,MAAM,KAAK,CAAC,GAAG,CAAC,OAAO,OAAO;YAChC;QACF;0BAAG;QAAC;KAAM;IAEV,qBAAO,6LAAC;QAAU,QAAQ;;;;;;AAC5B;GAhBS;;QAEW,sKAAO;;;KAFlB;AAkBT,MAAM,QAAQ,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAA0E;IAC3G,qBACE;;0BACE,6LAAC;gBAAa,WAAW;;;;;;0BACzB,6LAAC;gBAAW,UAAU;oBAAC;oBAAI;oBAAI;iBAAG;gBAAE,WAAW;;;;;;0BAC/C,6LAAC,iLAAW;gBAAC,QAAO;;;;;;0BAEpB,6LAAC,yKAAQ;gBAAC,UAAU;0BAClB,cAAA,6LAAC,uKAAM;8BACL,cAAA,6LAAC;wBAAM,KAAK;;;;;;;;;;;;;;;;YAKf,SAAS,OAAO,kBACf,6LAAC,qLAAa;gBACZ,WAAW;gBACX,YAAY;gBACZ,WAAW;gBACX,YAAY,SAAS,OAAO;;;;;;;;AAKtC;MAxBM;AA0BS,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,eAAe,IAAA,uKAAM,EAAiB;IAC5C,MAAM,WAAW,IAAA,uKAAM,EAAiB;IACxC,MAAM,WAAW,IAAA,uKAAM,EAAiB;IAExC,IAAA,0KAAS;oCAAC;YACR,WAAW;QACb;mCAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,6LAAC;QAAI,KAAK;QAAc,WAAU;;0BAGhC,6LAAC;gBAAI,KAAK;gBAAU,WAAU;;;;;;0BAC9B,6LAAC;gBAAI,KAAK;gBAAU,WAAU;;;;;;0BAG9B,6LAAC,gNAAM;gBACL,WAAU;gBACV,QAAQ;oBAAE,UAAU;wBAAC;wBAAG;wBAAG;qBAAE;oBAAE,KAAK;gBAAG;;oBAGtC,SAAS,OAAO,kBACf,6LAAC,kKAAI;wBAAC,OAAO;kCACX,cAAA,6LAAC;4BAAM,UAAU;4BAAU,UAAS;;;;;;;;;;;oBAIvC,SAAS,OAAO,kBACf,6LAAC,kKAAI;wBAAC,OAAO;kCACX,cAAA,6LAAC;4BAAM,UAAU;4BAAU,UAAS;;;;;;;;;;;;;;;;;;;;;;;AAMhD;IAvCwB;MAAA"}}]
}